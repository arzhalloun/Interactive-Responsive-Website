function openLumos(e,t){"undefined"==typeof t?(disableButtons([prevButton,nextButton]),isSingleImage=!0):checkButtons($('[class=lumos-link][href="'+e+'"]'),t),disableScroll(),spinner.show(),lumosContainer.fadeIn(animationSpeed),lumosImage.attr("src",e),lumosContainer.imagesLoaded(function(){lumosImage.fadeIn(fadeInSpeed)}),lumosGalleryName.text(t),getAltText()}function getNextImage(e){if(!isSingleImage){lumosImage.hide();for(var t,n=lumosGalleryName.text(),i=$("[data-lumos='"+n+"']"),o=lumosImage.attr("src"),r=0;r<i.length;r++)if(i[r].getAttribute("href")==o){"next"==e&&r++,"prev"==e&&r--,t=i[r];break}return t.getAttribute("data-lumos")!=n?o:t.getAttribute("href")}}function closeLumos(){enableScroll(),lumosContainer.fadeOut(animationSpeed),lumosImage.attr("src",""),lumosGalleryName.text(""),altText.text(""),spinner.hide(),isSingleImage=!1,isFirst=!1,isLast=!1,setTimeout(function(){enableButtons([prevButton,nextButton])},animationSpeed)}function disableButtons(e){for(var t=0;t<e.length;t++)e[t].hide()}function enableButtons(e){for(var t=0;t<e.length;t++)e[t].show()}function checkButtons(e,t){var n=$("[data-lumos='"+t+"']"),i=n[0].getAttribute("href"),o=n[n.length-1].getAttribute("href");e.attr("href")==i?(disableButtons([prevButton]),isFirst=!0):(enableButtons([prevButton]),isFirst=!1),e.attr("href")==o?(disableButtons([nextButton]),isLast=!0):(enableButtons([nextButton]),isLast=!1)}function getAltText(){var e=lumosImage.attr("src"),t=$("[href='"+e+"']").children("img").attr("alt");void 0!=t&&altText.html(t)}function preventDefault(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function preventDefaultForScrollKeys(e){return keys[e.keyCode]?(preventDefault(e),!1):void 0}function disableScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys}function enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var i=e(this),o=i.data(O);o||(o=new n(this,t),i.data(O,o))})}function n(t,n){function i(t){if(!(ue()||e(t.target).closest(n.excludedElements,Qe).length>0)){var i,o=t.originalEvent?t.originalEvent:t,r=o.touches,s=r?r[0]:o;return He=b,r?We=r.length:n.preventDefaultEvents!==!1&&t.preventDefault(),je=0,Pe=null,Ce=null,Ge=null,$e=0,qe=0,_e=0,Re=1,Fe=0,Ue=me(),le(),he(0,s),!r||We===n.fingers||n.fingers===y||U()?(Xe=Le(),2==We&&(he(1,r[1]),qe=_e=ye(Ve[0].start,Ve[1].start)),(n.swipeStatus||n.pinchStatus)&&(i=P(o,He))):i=!1,i===!1?(He=I,P(o,He),i):(n.hold&&(et=setTimeout(e.proxy(function(){Qe.trigger("hold",[o.target]),n.hold&&(i=n.hold.call(Qe,o,o.target))},this),n.longTapThreshold)),ce(!0),null)}}function D(e){var t=e.originalEvent?e.originalEvent:e;if(He!==T&&He!==I&&!ae()){var i,o=t.touches,r=o?o[0]:t,s=pe(r);if(Ye=Le(),o&&(We=o.length),n.hold&&clearTimeout(et),He=E,2==We&&(0==qe?(he(1,o[1]),qe=_e=ye(Ve[0].start,Ve[1].start)):(pe(o[1]),_e=ye(Ve[0].end,Ve[1].end),Ge=be(Ve[0].end,Ve[1].end)),Re=xe(qe,_e),Fe=Math.abs(qe-_e)),We===n.fingers||n.fingers===y||!o||U()){if(Pe=Ie(s.start,s.end),Ce=Ie(s.last,s.end),F(e,Ce),je=Ee(s.start,s.end),$e=we(),fe(Pe,je),i=P(t,He),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var l=!0;if(n.triggerOnTouchLeave){var a=Se(this);l=ke(s.end,a)}!n.triggerOnTouchEnd&&l?He=j(E):n.triggerOnTouchLeave&&!l&&(He=j(T)),(He==I||He==T)&&P(t,He)}}else He=I,P(t,He);i===!1&&(He=I,P(t,He))}}function B(e){var t=e.originalEvent?e.originalEvent:e,i=t.touches;if(i){if(i.length&&!ae())return se(t),!0;if(i.length&&ae())return!0}return ae()&&(We=Je),Ye=Le(),$e=we(),q()||!$()?(He=I,P(t,He)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&He===E?(n.preventDefaultEvents!==!1&&e.preventDefault(),He=T,P(t,He)):!n.triggerOnTouchEnd&&z()?(He=T,C(t,He,f)):He===E&&(He=I,P(t,He)),ce(!1),null}function M(){We=0,Ye=0,Xe=0,qe=0,_e=0,Re=1,le(),ce(!1)}function A(e){var t=e.originalEvent?e.originalEvent:e;n.triggerOnTouchLeave&&(He=j(T),P(t,He))}function N(){Qe.unbind(De,i),Qe.unbind(Ne,M),Qe.unbind(Be,D),Qe.unbind(Me,B),Ae&&Qe.unbind(Ae,A),ce(!1)}function j(e){var t=e,i=R(),o=$(),r=q();return!i||r?t=I:!o||e!=E||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!o&&e==T&&n.triggerOnTouchLeave&&(t=I):t=T,t}function P(e,t){var n,i=e.touches;return(V()||W())&&(n=C(e,t,p)),(Q()||U())&&n!==!1&&(n=C(e,t,d)),oe()&&n!==!1?n=C(e,t,g):re()&&n!==!1?n=C(e,t,m):ie()&&n!==!1&&(n=C(e,t,f)),t===I&&(W()&&(n=C(e,t,p)),U()&&(n=C(e,t,d)),M(e)),t===T&&(i?i.length||M(e):M(e)),n}function C(t,i,c){var h;if(c==p){if(Qe.trigger("swipeStatus",[i,Pe||null,je||0,$e||0,We,Ve,Ce]),n.swipeStatus&&(h=n.swipeStatus.call(Qe,t,i,Pe||null,je||0,$e||0,We,Ve,Ce),h===!1))return!1;if(i==T&&H()){if(clearTimeout(Ze),clearTimeout(et),Qe.trigger("swipe",[Pe,je,$e,We,Ve,Ce]),n.swipe&&(h=n.swipe.call(Qe,t,Pe,je,$e,We,Ve,Ce),h===!1))return!1;switch(Pe){case o:Qe.trigger("swipeLeft",[Pe,je,$e,We,Ve,Ce]),n.swipeLeft&&(h=n.swipeLeft.call(Qe,t,Pe,je,$e,We,Ve,Ce));break;case r:Qe.trigger("swipeRight",[Pe,je,$e,We,Ve,Ce]),n.swipeRight&&(h=n.swipeRight.call(Qe,t,Pe,je,$e,We,Ve,Ce));break;case s:Qe.trigger("swipeUp",[Pe,je,$e,We,Ve,Ce]),n.swipeUp&&(h=n.swipeUp.call(Qe,t,Pe,je,$e,We,Ve,Ce));break;case l:Qe.trigger("swipeDown",[Pe,je,$e,We,Ve,Ce]),n.swipeDown&&(h=n.swipeDown.call(Qe,t,Pe,je,$e,We,Ve,Ce))}}}if(c==d){if(Qe.trigger("pinchStatus",[i,Ge||null,Fe||0,$e||0,We,Re,Ve]),n.pinchStatus&&(h=n.pinchStatus.call(Qe,t,i,Ge||null,Fe||0,$e||0,We,Re,Ve),h===!1))return!1;if(i==T&&G())switch(Ge){case a:Qe.trigger("pinchIn",[Ge||null,Fe||0,$e||0,We,Re,Ve]),n.pinchIn&&(h=n.pinchIn.call(Qe,t,Ge||null,Fe||0,$e||0,We,Re,Ve));break;case u:Qe.trigger("pinchOut",[Ge||null,Fe||0,$e||0,We,Re,Ve]),n.pinchOut&&(h=n.pinchOut.call(Qe,t,Ge||null,Fe||0,$e||0,We,Re,Ve))}}return c==f?(i===I||i===T)&&(clearTimeout(Ze),clearTimeout(et),J()&&!ee()?(Ke=Le(),Ze=setTimeout(e.proxy(function(){Ke=null,Qe.trigger("tap",[t.target]),n.tap&&(h=n.tap.call(Qe,t,t.target))},this),n.doubleTapThreshold)):(Ke=null,Qe.trigger("tap",[t.target]),n.tap&&(h=n.tap.call(Qe,t,t.target)))):c==g?(i===I||i===T)&&(clearTimeout(Ze),clearTimeout(et),Ke=null,Qe.trigger("doubletap",[t.target]),n.doubleTap&&(h=n.doubleTap.call(Qe,t,t.target))):c==m&&(i===I||i===T)&&(clearTimeout(Ze),Ke=null,Qe.trigger("longtap",[t.target]),n.longTap&&(h=n.longTap.call(Qe,t,t.target))),h}function $(){var e=!0;return null!==n.threshold&&(e=je>=n.threshold),e}function q(){var e=!1;return null!==n.cancelThreshold&&null!==Pe&&(e=ge(Pe)-je>=n.cancelThreshold),e}function _(){return null!==n.pinchThreshold?Fe>=n.pinchThreshold:!0}function R(){var e;return e=n.maxTimeThreshold&&$e>=n.maxTimeThreshold?!1:!0}function F(e,t){if(n.preventDefaultEvents!==!1)if(n.allowPageScroll===c)e.preventDefault();else{var i=n.allowPageScroll===h;switch(t){case o:(n.swipeLeft&&i||!i&&n.allowPageScroll!=v)&&e.preventDefault();break;case r:(n.swipeRight&&i||!i&&n.allowPageScroll!=v)&&e.preventDefault();break;case s:(n.swipeUp&&i||!i&&n.allowPageScroll!=w)&&e.preventDefault();break;case l:(n.swipeDown&&i||!i&&n.allowPageScroll!=w)&&e.preventDefault()}}}function G(){var e=X(),t=Y(),n=_();return e&&t&&n}function U(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function Q(){return!(!G()||!U())}function H(){var e=R(),t=$(),n=X(),i=Y(),o=q(),r=!o&&i&&n&&t&&e;return r}function W(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function V(){return!(!H()||!W())}function X(){return We===n.fingers||n.fingers===y||!L}function Y(){return 0!==Ve[0].end.x}function z(){return!!n.tap}function J(){return!!n.doubleTap}function K(){return!!n.longTap}function Z(){if(null==Ke)return!1;var e=Le();return J()&&e-Ke<=n.doubleTapThreshold}function ee(){return Z()}function te(){return(1===We||!L)&&(isNaN(je)||je<n.threshold)}function ne(){return $e>n.longTapThreshold&&x>je}function ie(){return!(!te()||!z())}function oe(){return!(!Z()||!J())}function re(){return!(!ne()||!K())}function se(e){ze=Le(),Je=e.touches.length+1}function le(){ze=0,Je=0}function ae(){var e=!1;if(ze){var t=Le()-ze;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function ue(){return!(Qe.data(O+"_intouch")!==!0)}function ce(e){Qe&&(e===!0?(Qe.bind(Be,D),Qe.bind(Me,B),Ae&&Qe.bind(Ae,A)):(Qe.unbind(Be,D,!1),Qe.unbind(Me,B,!1),Ae&&Qe.unbind(Ae,A,!1)),Qe.data(O+"_intouch",e===!0))}function he(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,Ve[e]=n,n}function pe(e){var t=void 0!==e.identifier?e.identifier:0,n=de(t);return null===n&&(n=he(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function de(e){return Ve[e]||null}function fe(e,t){t=Math.max(t,ge(e)),Ue[e].distance=t}function ge(e){return Ue[e]?Ue[e].distance:void 0}function me(){var e={};return e[o]=ve(o),e[r]=ve(r),e[s]=ve(s),e[l]=ve(l),e}function ve(e){return{direction:e,distance:0}}function we(){return Ye-Xe}function ye(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function xe(e,t){var n=t/e*1;return n.toFixed(2)}function be(){return 1>Re?u:a}function Ee(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Te(e,t){var n=e.x-t.x,i=t.y-e.y,o=Math.atan2(i,n),r=Math.round(180*o/Math.PI);return 0>r&&(r=360-Math.abs(r)),r}function Ie(e,t){var n=Te(e,t);return 45>=n&&n>=0?o:360>=n&&n>=315?o:n>=135&&225>=n?r:n>45&&135>n?l:s}function Le(){var e=new Date;return e.getTime()}function Se(t){t=e(t);var n=t.offset(),i={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return i}function ke(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var n=e.extend({},n),Oe=L||k||!n.fallbackToMouseEvents,De=Oe?k?S?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Be=Oe?k?S?"MSPointerMove":"pointermove":"touchmove":"mousemove",Me=Oe?k?S?"MSPointerUp":"pointerup":"touchend":"mouseup",Ae=Oe?k?"mouseleave":null:"mouseleave",Ne=k?S?"MSPointerCancel":"pointercancel":"touchcancel",je=0,Pe=null,Ce=null,$e=0,qe=0,_e=0,Re=1,Fe=0,Ge=0,Ue=null,Qe=e(t),He="start",We=0,Ve={},Xe=0,Ye=0,ze=0,Je=0,Ke=0,Ze=null,et=null;try{Qe.bind(De,i),Qe.bind(Ne,M)}catch(tt){e.error("events not supported "+De+","+Ne+" on jQuery.swipe")}this.enable=function(){return Qe.bind(De,i),Qe.bind(Ne,M),Qe},this.disable=function(){return N(),Qe},this.destroy=function(){N(),Qe.data(O,null),Qe=null},this.option=function(t,i){if("object"==typeof t)n=e.extend(n,t);else if(void 0!==n[t]){if(void 0===i)return n[t];n[t]=i}else{if(!t)return n;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var i="1.6.15",o="left",r="right",s="up",l="down",a="in",u="out",c="none",h="auto",p="swipe",d="pinch",f="tap",g="doubletap",m="longtap",v="horizontal",w="vertical",y="all",x=10,b="start",E="move",T="end",I="cancel",L="ontouchstart"in window,S=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!L,k=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!L,O="TouchSwipe",D={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(n){var i=e(this),o=i.data(O);if(o&&"string"==typeof n){if(o[n])return o[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(o&&"object"==typeof n)o.option.apply(this,arguments);else if(!(o||"object"!=typeof n&&n))return t.apply(this,arguments);return i},e.fn.swipe.version=i,e.fn.swipe.defaults=D,e.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:E,PHASE_END:T,PHASE_CANCEL:I},e.fn.swipe.directions={LEFT:o,RIGHT:r,UP:s,DOWN:l,IN:a,OUT:u},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:v,VERTICAL:w,AUTO:h},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:y}}),!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}(this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{},i=n[e]=n[e]||[];return i[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,o=n[i];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];o;){var s=r&&r[o];s&&(this.off(e,o),delete r[o]),o.apply(this,t),i+=s?0:1,o=n[i]}return this}},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}(window,function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function o(e,t,r){return this instanceof o?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=n({},this.options),"function"==typeof t?r=t:n(this.options,t),r&&this.on("always",r),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(e,t,r)}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var l=e.jQuery,a=e.console;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var s=r[i];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var n=new s(e,t);this.images.push(n)},o.prototype.check=function(){function e(e,n,i){setTimeout(function(){t.progress(e,n,i)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(l=t,l.fn.imagesLoaded=function(e,t){var n=new o(this,e,t);return n.jqDeferred.promise(l(this))})},o.makeJQueryPlugin(),o}),$("body").append('<div class="lumos-container"><div class="lumos-alt-text"></div><img class="lumos-img" src="" /><svg version="1.1" class="lumos-prev" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 306 306" xml:space="preserve"><g><g id="chevron-right"><polygon points="211.7,306 247.4,270.3 130.1,153 247.4,35.7 211.7,0 58.7,153" /></g></g></svg><svg version="1.1" class="lumos-next" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 306 306" xml:space="preserve"><g><g id="chevron-right"><polygon points="94.35,0 58.65,35.7 175.95,153 58.65,270.3 94.35,306 247.35,153" /></g></g></svg><svg version="1.1" class="lumos-close" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><path d="M512,51.75L460.25,0L256,204.25L51.75,0L0,51.75L204.25,256L0,460.25L51.75,512L256,307.75L460.25,512L512,460.25 L307.75,256L512,51.75z" /></svg><div class="lumos-name"></div><div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div>');var lumosContainer=$(".lumos-container"),lumosImage=$(".lumos-img"),altText=$(".lumos-alt-text"),prevButton=$(".lumos-prev"),nextButton=$(".lumos-next"),closeButton=$(".lumos-close"),linkSelector=".lumos-link",lumosGalleryName=$(".lumos-name"),allButtons=".lumos-next, .lumos-prev, .lumos-close, .lumos-alt-text",spinner=$(".lumos-container .spinner"),animationSpeed=250,fadeInSpeed=750,mouseIsOnImage=!1,isSingleImage=!1,isFirst=!1,isLast=!1;$(linkSelector).click(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).attr("data-lumos");openLumos(t,n)}),$(prevButton).click(function(){isFirst||openLumos(getNextImage("prev"),lumosGalleryName.text())}),$(nextButton).click(function(){isLast||openLumos(getNextImage("next"),lumosGalleryName.text())}),$(closeButton).click(function(){closeLumos()}),lumosContainer.click(function(){mouseIsOnImage||closeLumos()}),$(document).keyup(function(e){if(27==e.keyCode&&closeLumos(),37==e.keyCode){if(isFirst||isSingleImage)return;openLumos(getNextImage("prev"),lumosGalleryName.text())}if(39==e.keyCode){if(isLast||isSingleImage)return;openLumos(getNextImage("next"),lumosGalleryName.text())}}),lumosImage.mouseenter(function(){mouseIsOnImage=!0}),lumosImage.mouseleave(function(){mouseIsOnImage=!1}),$(allButtons).mouseenter(function(){mouseIsOnImage=!0}),$(allButtons).mouseleave(function(){mouseIsOnImage=!1}),lumosContainer.swipe({swipe:function(e,t){if("left"==t){if(isLast||isSingleImage)return;openLumos(getNextImage("next"),lumosGalleryName.text())}if("right"==t){if(isFirst||isSingleImage)return;openLumos(getNextImage("prev"),lumosGalleryName.text())}("up"==t||"down"==t)&&closeLumos()}});var keys={37:1,38:1,39:1,40:1};